<section class="flex column justify-center items-center height-100 gap-10">
    <div class="loading-screen">
        <div class="text-size-8 line-height-8 weight-bold text-slate-700">Memuat...</div>
        <progress id="loading-progress" class="width-50 height-2vh" max="9" value="0"></progress>
    </div>
</section>
<script>
    function preloadImages(urls, onProgress, onComplete) {
        let loaded = 0;
        const total = urls.length;

        urls.forEach(url => {
            const img = new Image();
            img.onload = img.onerror = () => {
                loaded++;
                if (onProgress) onProgress(loaded, total);
                if (loaded === total && onComplete) onComplete();
            };
            img.src = url;
        });
    }

    var progressBar = document.getElementById('loading-progress');

    var images = [];
    for (let i = 1; i <= 9; i++) {
        images.push(`scene/a2-listen/img/p${i}.jpg`);
    }

    preloadImages(images, (loaded, total) => {
        if (progressBar) progressBar.value = loaded;
    }, () => {
        console.log("Semua gambar sudah preload, siap lanjut!");

        const loadingScreen = document.querySelector('.loading-screen');
        if (loadingScreen) loadingScreen.remove();

        loadSceneTrans('a1-study/p0', 'both', 'zoom-in');
    });
</script>